<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<div flex class="page-container page-container-padding"  ng-controller="PipelineDetailsCtrl as ctrl">
    <div flex="100" layout="row" style="padding:0px;background-color:#f6f6f6">
        <div layout-fill>
            <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Overview" md-on-select="ctrl.setSelectedTab('overview')"></md-tab>
                <md-tab label="Statistics" md-on-select="ctrl.setSelectedTab('statistics')"></md-tab>
                <md-tab label="Errors" md-on-select="ctrl.setSelectedTab('errors')"></md-tab>
                <md-tab label="QuickEdit" md-on-select="ctrl.setSelectedTab('quick-edit')"
                        ng-disabled="ctrl.pipeline.running"></md-tab>
            </md-tabs>
        </div>
    </div>

    <div flex layout="row" layout-align="start top" ng-if="ctrl.selectedTab == 'overview'">
        <div flex="60" class="md-padding">
            <div flex layout="column">
                <pipeline-preview jspcanvas="assembly-preview" pipeline="ctrl.pipeline" name="{{ctrl.pipeline.name}}" selected-element="ctrl.selectedElement"
                                  ng-if="ctrl.pipeline.name!=undefined" style="margin-bottom:15px;"></pipeline-preview>
                <pipeline-elements pipeline="ctrl.pipeline"
                                   selected-element="ctrl.selectedElement"></pipeline-elements>

            </div>
        </div>
        <div flex="40" class="md-padding">
            <div flex layout="column">
                <pipeline-actions load-pipeline="ctrl.loadPipeline()" pipeline="ctrl.pipeline" ng-if="ctrl.pipeline.name != undefined"
                                  style="margin-bottom:15px;"></pipeline-actions>
                <pipeline-status pipeline="ctrl.pipeline" ng-if="ctrl.pipeline.name != undefined"></pipeline-status>
            </div>
        </div>
    </div>
    <div flex layout="row" layout-align="start top" ng-if="ctrl.selectedTab == 'quick-edit'">
        <div flex="100" class="md-padding">
            <div flex layout="column">
                <pipeline-preview jspcanvas="assembly-quickedit" pipeline="ctrl.pipeline" name="{{ctrl.pipeline.name}}" selected-element="ctrl.selectedElement"
                                  ng-if="ctrl.pipeline.name!=undefined" style="margin-bottom:15px;"></pipeline-preview>
                <quick-edit pipeline="ctrl.pipeline" selected-element="ctrl.selectedElement" ng-if="ctrl.pipeline.name != undefined"></quick-edit>
            </div>
        </div>
    </div>
</div>